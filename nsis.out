MakeNSIS 2.15 - Copyright 1999-2006 Nullsoft, Inc.

Portions Copyright (C) 1995-1998 Jean-loup Gailly and Mark Adler (zlib).
Portions Copyright (C) 1996-2002 Julian R Seward (bzip2).
Portions Copyright (C) 1999-2003 Igor Pavlov (lzma).

Contributors: nnop@newmail.ru, Ryan Geiss, Andras Varga, Drew Davidson, Peter Windridge, Dave Laundon, Robert Rainwater, Yaroslav Faybishenko, Jeff Doozan, Amir Szekely, Ximon Eighteen, et al.

Processing config: 
Processing plugin dlls: "c:\Program Files\NSIS\Plugins\*.dll"
 - AdvSplash::show
 - Banner::destroy
 - Banner::getWindow
 - Banner::show
 - BgImage::AddImage
 - BgImage::AddText
 - BgImage::Clear
 - BgImage::Destroy
 - BgImage::Redraw
 - BgImage::SetBg
 - BgImage::SetReturn
 - BgImage::Sound
 - Dialer::AttemptConnect
 - Dialer::AutodialHangup
 - Dialer::AutodialOnline
 - Dialer::AutodialUnattended
 - Dialer::GetConnectedState
 - InstallOptions::dialog
 - InstallOptions::initDialog
 - InstallOptions::show
 - LangDLL::LangDialog
 - Math::Script
 - NSISdl::download
 - NSISdl::download_quiet
 - Processes::FindDevice
 - Processes::FindProcess
 - Processes::KillProcess
 - Splash::show
 - StartMenu::Init
 - StartMenu::Select
 - StartMenu::Show
 - System::Alloc
 - System::Call
 - System::Copy
 - System::Free
 - System::Get
 - System::Int64Op
 - System::Store
 - TypeLib::GetLibVersion
 - TypeLib::Register
 - TypeLib::UnRegister
 - UserInfo::GetAccountType
 - UserInfo::GetName
 - VPatch::vpatchfile
 - nsExec::Exec
 - nsExec::ExecToLog
 - nsExec::ExecToStack

!define: "MUI_INSERT_NSISCONF"=""

Changing directory to: "c:\badboy\dev\gcjbadboy\jbadboy\trunk\install"

Processing script file: "install/script.nsi"
!define: "APPNAME"="JBadboy Script Player"
!define: "JARFILE"="install.jar"
Name: "Jelude"
Caption: "JBadboy Script Player"
OutFile: "setup.exe"
SilentInstall: silent
XPStyle: on
PluginDir: "."
Var: "BadboyInstallLocation"
Section: ""
File: "System.dll"->"$PLUGINSDIR\System.dll" [compress] 5942/10240 bytes
Plugin Command: Call kernel32::CreateMutexA(i 0, i 0, t 'jelude') i .r1 ?e
Pop: $R0
StrCmp "$R0" "0" equal=+2, nonequal=
Quit
IfFileExists: "$SYSDIR\msvcr71.dll" ? 0 : NeedBadboy
IfFileExists: "$SYSDIR\msvcp71.dll" ? FoundBadboy : NeedBadboy
ReadRegStr $BadboyInstallLocation HKLM\SOFTWARE\Badboy\
IfErrors ?0:FoundBadboy
MessageBox: 48: "Could not find an installation of Badboy on your computer. 

JBadboy needs MSVCR71.DLL to run which can be obtained 
from many different sources, one of which is Badboy itself. 
You can continue to install, however if you experience problems 
running JBadboy you should locate this library and copy it to your 
Windows System folder."
ClearErrors
ReadRegStr $R0 HKLM\SOFTWARE\JavaSoft\Java Runtime Environment\CurrentVersion
ReadRegStr $R0 HKLM\SOFTWARE\JavaSoft\Java Runtime Environment\$R0\JavaHome
IfErrors ?0:FoundVM
ClearErrors
ReadRegStr $R0 HKLM\SOFTWARE\JavaSoft\Java Development Kit\CurrentVersion
ReadRegStr $R0 HKLM\SOFTWARE\JavaSoft\Java Development Kit\$R0\JavaHome
IfErrors ?0:FoundVM
ClearErrors
ReadEnvStr: JAVA_HOME->$R0
IfErrors ?NotFound:0
StrCpy $R0 "$R0\bin\javaw.exe" () ()
IfFileExists: "$R0" ? 0 : NotFound
StrCpy $R1 "" () ()
Call "GetParameters"
Pop: $R1
SetOverwrite: ifdiff
SetOutPath: "$TEMP"
File: "install.jar" [compress] 13545026/13592574 bytes
StrCpy $R0 "$R0 -jar "install.jar" $R1" () ()
ExecWait: "$R0" (->)
CopyFiles: "$BadboyInstallLocation\msvc*.dll" -> "$SYSDIR", size=0KB
Delete: "install.jar"
Sleep: 5000 ms
Quit
Sleep: 800 ms
MessageBox: 52: "Could not find a Java Runtime Environment installed on your computer. 
Without it you cannot run "JBadboy Script Player". 

Would you like to visit the Java website to download it?" (on IDNO goto +2)
ExecShell: open: "http://java.sun.com/getjava" "" 
Quit
SectionEnd
Function: "GetParameters"
Push: $R0
Push: $R1
Push: $R2
StrCpy $R0 "$CMDLINE" (1) ()
StrCpy $R1 """ () ()
StrCpy $R2 "1" () ()
StrCmp "$R0" """ equal=loop, nonequal=
StrCpy $R1 " " () ()
StrCpy $R0 "$CMDLINE" (1) ($R2)
StrCmp "$R0" "$R1" equal=loop2, nonequal=
StrCmp "$R0" "" equal=loop2, nonequal=
IntOp: $R2=$R2+1
Goto: loop
IntOp: $R2=$R2+1
StrCpy $R0 "$CMDLINE" (1) ($R2)
StrCmp "$R0" " " equal=loop2, nonequal=
StrCpy $R0 "$CMDLINE" () ($R2)
Pop: $R2
Pop: $R1
Exch($R0,0)
FunctionEnd

Processed 1 file, writing output:
Adding plug-ins initializing function... Done!
Processing pages... Done!
Removing unused resources... Done!
Generating language tables... Done!

Output: "c:\badboy\dev\gcjbadboy\jbadboy\trunk\install\setup.exe"
Install: 0 pages (0 bytes), 1 section (1048 bytes), 79 instructions (2212 bytes), 54 strings (1518 bytes), 1 language table (162 bytes).

Using zlib compression.

EXE header size:               32768 / 34816 bytes
Install code:                   1471 / 5256 bytes
Install data:               13550976 / 13602822 bytes
CRC (0x3F2F79BF):                  4 / 4 bytes

Total size:                 13585219 / 13642898 bytes (99.6%)
